<html>
<head>
	<title>Brucheion</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/jquery-3.2.1.min.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/openseadragon.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/openseadragon-guides.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/selection.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/selectionoverlay.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/selectionrect.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/dragging.js"></script>
	<script type="text/javascript" src="http://localhost{{.Port}}/js/bootstrap.min.js"></script>
	<link rel="stylesheet" type="text/css" href="http://localhost{{.Port}}/static/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="http://localhost{{.Port}}/static/css/bootstrap-theme.min.css">
	<link rel="stylesheet" type="text/css" href="http://localhost{{.Port}}/static/css/application.css">
	<link rel="stylesheet" href="http://localhost{{.Port}}/static/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="http://localhost{{.Port}}/static/css/bulma.css">
	<style>
        .tile-resizable {
            resize: both;
          overflow: hidden
        }
    </style>
		{{.ImageScript}}
</head>
<body>
	<div class="container is-fluid">
	<nav class="nav has-shadow">
	  <div class="container">
	    <div class="nav-left">
	      <p class="nav-item">
	        <img src="/static/img/BrucheionLogo.png" alt="Brucheion logo">
	      </p>
	      <p class="nav-item is-tab is-hidden-mobile is-active">Brucheion 1.0.0</p>
	    </div>
			<div>
				<p class="button is-primary is-large is-inverted">VIEWER</p>
			</div>
	    <div class="nav-right nav-menu">
	      <p class="nav-item is-tab">
	        User: {{printf "%s" .User}}
	      </p>
	    </div>
			<div class="nav-right nav-menu">
				<p class="nav-item is-tab">
					<a href="http://localhost{{.Port}}/{{.User}}/export/{{.User}}"><i class="fa fa-download">CEX-Download</i></a>
				</p>
			</div>

	  </div>
	</nav>
	<section>
		<div class="tile is-ancestor">
			<div class="tile is-parent is-12">
				<div class="column is-6">
			<p class="has-text-centered"><a href="http://localhost{{.Port}}/{{.User}}/view/{{.First}}"><i class="fa fa-chevron-left"></i><i class="fa fa-chevron-left"></i></a>
				 <a href="http://localhost{{.Port}}/{{.User}}/view/{{.Previous}}"><i class="fa fa-chevron-left"></i></a>
				 {{.Title}}
				 <a href="http://localhost{{.Port}}/{{.User}}/view/{{.Next}}"><i class="fa fa-chevron-right"></i></a>
				 <a href="http://localhost{{.Port}}/{{.User}}/view/{{.Last}}"><i class="fa  fa-chevron-right"></i><i class="fa  fa-chevron-right"></i></a>
			</p>
		</div>
		<div class="column is-6">
	<p class="has-text-centered">
		<form name="nav">
		<div class="control">
  	<div class="select">
			<select name="SelectURL" onchange="document.location.href=document.nav.SelectURL.options[document.nav.SelectURL.selectedIndex].value">
		{{.TextHTML}}
	</select>
	</div>
	</div>
</form>
	</p>
</div>

		</div>
		</div>
	</section>

	<section>

	</section>
	<div class="tile is-ancestor">
			<div class="tile is-parent">
					<div class="tile is-child box tile-resizable">
					<p class="has-text-right"><a class="button is-small" href="/{{.User}}/edit2/{{.Title}}">EDIT IMAGE REFERENCES</a></p>
					<br/>
					<p>ImageRef: {{.ImageHTML}}</p>
			</div></div>
			<div class="tile is-parent">
					<div class="tile is-child box tile-resizable">
						<p class="has-text-right"><a class="button is-small" href="/{{.User}}/editcat/{{.Title}}">EDIT METADATA</a></p>
					<br/>
					<table>
						<tr>
							<td>WorkURN: {{.CatID}}</td><td>Scheme: {{.CatCit}}</td>
						</tr>
						<tr>
							<td>Workgroup: {{.CatGroup}}</td><td>Title: {{.CatWork}}</td>
						</tr>
						<tr>
							<td>Version: {{.CatVers}}</td><td>Exemplar: {{.CatExmpl}}</td>
						</tr>
						<tr>
							<td>Online: {{.CatOn}}</td><td>Language: {{.CatLan}}</td>
						</tr>
					</table>
			</div></div>
		</div>
	<section>
		<div class="tile is-ancestor">
			<div class="tile is-parent">
				<div class="tile is-child box tile-resizable" style="height: 500px;">
					<div id="image_imageContainer"></div>
				</div>
		</div>
			<div class="tile is-parent">
				<div class="tile is-child box tile-resizable">						
							<br/>
					<div class="tile is-child">
						<p class="has-text-left">Previous: {{.PreviousLink}}</p>
						<p class="has-text-left">Next: {{.NextLink}}</p>
					</div>
					<div class="tile is-child">
					<p class="has-text-right"><a class="button is-small" href="/{{.User}}/edit/{{.Title}}">EDIT TRANSCRIPTION</a></p>
				</div>
				<br/>
					{{.Text}}
					
				</div>
			</div>
		</div>
	</section>
	<footer>
	<br/>
		<p>CITE/CTS is ©2002–2017 Neel Smith and Christopher Blackwell. This tool for working with images cited via CITE2 URNs and transcriptions using the CITE-microservices is ©2017 by Thomas Koentges. Brucheion is available for use, modification, and distribution under the terms of the <a href="https://opensource.org/licenses/gpl-3.0.html">GPL 3.0</a> licence. Brucheion is based on Christopher Blackwell's and Mees Gelein's <a href="https://github.com/cite-architecture/ict2">ICT2</a> and on <a href="http://openseadragon.github.io">Openseadragon</a>.</p>
	</footer>
</div>
<input type="hidden" id = "initialCITE" value = "{{.ImageJS}}" readonly>
<script type="text/javascript" src="http://localhost{{.Port}}/js/ict2.js"></script>
</body>
</html>
